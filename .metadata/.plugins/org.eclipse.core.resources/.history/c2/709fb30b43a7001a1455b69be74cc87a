package usedbookmarketplace.main;

import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import usedbookmarketplace.model.database.Database;
import usedbookmarketplace.view.MainFrame;

public class Controller implements ActionListener {
	Database DB;
	MainFrame view;

	public Controller(Database db, MainFrame view) {
		this.DB = db;
		this.view = view;

		view.addActionListener(this);
	}

	@Override
	public void actionPerformed(ActionEvent e) {
	// Class Login 
		// login view : click login button
		if (e.getSource() == view.login.login_btn) {
			String id = view.login.getIDtxt();
			String pw = view.login.getPWtxt();
			
			if (id.equals("park") && pw.equals("1"))
				view.getCardLayout().show(view.getContentPane(), "SEARCH");
		}
		// login view : click login register
		else if (e.getSource() == view.login.register_btn) {
			view.getCardLayout().show(view.getContentPane(), "REGISTER");
		}
	// Class Register
		else if (e.getSource() == view.register.register_btn) {
			if (!view.register.getIDtxt().isEmpty() && !view.register.getPWtxt().isEmpty() && !view.register.getNametxt().isEmpty() 
					&& !view.register.getIDtxt().isEmpty() && !view.register.getEmailtxt().isEmpty() && view.register.getPhoneNumtxt().matches("[0-9|-]+"))
				view.getCardLayout().show(view.getContentPane(), "LOGIN");
		}
	
	}
}
