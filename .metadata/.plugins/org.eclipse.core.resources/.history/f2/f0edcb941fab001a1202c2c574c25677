package usedbookmarketplace.view;

import java.awt.event.ActionListener;
import java.util.Vector;

import javax.swing.JButton;
import javax.swing.table.DefaultTableModel;

import usedbookmarketplace.model.data.Book;

public class Search_GeneralUser extends Search {
	
	public JButton purchaseBtn = new JButton("Purchase");
	
	public Search_GeneralUser() {
		table.getColumn("Publication Year").setPreferredWidth(100);
		
		updateTable(bookList);
		
		btnsPanel.add(purchaseBtn);
	}
	
	public void updateTable(Vector<Book> bookList) {
		model = (DefaultTableModel) table.getModel();
		model.setNumRows(0);

		for (int i = 0; i < bookList.size(); i++) {
			String[] bookInfo = bookList.get(i).getBookInfo();
			model.addRow(new Object[] { bookInfo[0], bookInfo[1], bookInfo[2], bookInfo[3], bookInfo[4],
										bookInfo[5], bookInfo[6], bookInfo[7], bookInfo[8] });
		}

		table.setModel(model);
	}
	
	public void addActionListeners(ActionListener action) {
		super.addActionListeners(action);
		purchaseBtn.addActionListener(action);
	}
}
